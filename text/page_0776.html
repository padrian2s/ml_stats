<div class="page-content">
  <h2>Vizualizarea convergentei VB si calculul ELBO</h2>
  <p>Aceasta pagina prezinta Figura 21.5 care ilustreaza convergenta aproximarii VB factorizate catre posterioara exacta Gaussiana-Gamma si incepe calculul detaliat al marginii inferioare L(q).</p>
  <div class="definition-box"><strong>Figura 21.5 - Convergenta VB:</strong> (a) Estimarea initiala (contururi rosii vs verzi = aproximare vs exact). (b) Dupa actualizarea q_μ. (c) Dupa actualizarea q_λ. (d) La convergenta (dupa 5 iteratii). Aproximarea factorizata (rosie) converge aproape de posterioara exacta (verde) dar ramane mai compacta (axa-aliniata).</div>
  <div class="definition-box"><strong>Descompunerea ELBO:</strong> L(q) = ∫∫ q(μ,λ) log[p(D,μ,λ)/q(μ,λ)] dμdλ = E[log p(D|μ,λ)] + E[log p(μ|λ)] + E[log p(λ)] - E[log q(μ)] - E[log q(λ)]. Ultimii doi termeni sunt entropiile distributiilor variationala.</div>
  <div class="definition-box"><strong>Entropiile distributiilor:</strong> H(N(μ_N, κ_N^{-1})) = -1/2 log κ_N + 1/2(1 + log(2π)). H(Ga(a_N, b_N)) = log Γ(a_N) - (a_N - 1)ψ(a_N) - log(b_N) + a_N, unde ψ() este functia digamma.</div>
  <div class="highlight-box"><strong>Diagnosticul ELBO:</strong> Ca si in EM, daca ELBO nu creste monoton la fiecare actualizare, implementarea contine un bug. ELBO poate fi folosit si ca aproximare a log-evidentei marginale log p(D) pentru selectia Bayesiana de modele.</div>
  <div class="commentary">
    <h3>Comentariu</h3>
    <div class="commentary-section"><h4>Rezumat</h4><p>Figura 21.5 ofera o ilustrare vizuala excelenta a convergentei VB: contururile rosii (aproximarea factorizata q_μ × q_λ) pornesc de la o estimare initiala si converge in 5 iteratii catre o aproximare buna a posterioarei exacte (contururi verzi). Diferenta cheie: contururile rosii sunt axa-alinate (fara corelatie intre μ si λ), in timp ce posterioara exacta prezinta corelatie. Calculul ELBO se descompune in log-likelihood asteptata, log-prior asteptat si entropii, fiecare avand formule analitice datorita alegerii distributiilor din familia exponentiala.</p></div>
    <div class="commentary-section"><h4>Tipare Cheie</h4><p>Entropiile au formule inchise: Gaussiana depinde de log κ_N (precizia), iar Gamma depinde de functia digamma ψ(a_N) si log Γ(a_N). Aceste formule sunt standard si se regasesc in orice implementare VB. Descompunerea ELBO in 5 termeni permite diagnosticarea fina: se poate identifica care termen nu creste corect.</p></div>
    <div class="commentary-section"><h4>Aplicatii Practice</h4><p>Monitorizarea ELBO este esentiala in orice implementare VB: lipsa cresterii monotone indica un bug in ecuatiile de actualizare sau in calculul asteptarilor. In practica, se ploteaza L(q) vs numar de iteratii si se verifica ca este monoton crescator.</p></div>
    <div class="commentary-section"><h4>Exemplu din Lumea Reala</h4><p>In implementarea unui model de amestec Gaussian variational, plotarea ELBO la fiecare iteratie a revelat un bug subtil in calculul termenului b_N care cauza scaderi ocazionale. Corectarea formulei a dus la convergenta monotona corecta si rezultate mai precise.</p></div>
  </div>
</div>
