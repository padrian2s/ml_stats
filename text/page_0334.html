<div class="page-content">
  <h2>9.7.4 Functii de Pierdere pentru Ranking</h2>
  <p>Pagina prezinta diverse functii de pierdere si metrici de evaluare pentru sistemele de ranking, inclusiv MRR, MAP, NDCG si corelatia de rang.</p>
  <div class="definition-box"><strong>Mean Reciprocal Rank (MRR):</strong> Pentru o interogare q, rangul reciproc mediu este 1/r(q), unde r(q) este pozitia primului document relevant.</div>
  <div class="definition-box"><strong>Mean Average Precision (MAP):</strong> Precizia medie calculata ca AP(π) = Σ_k P@k(π) · I_k / (numar documente relevante), unde P@k este precizia in primele k pozitii.</div>
  <div class="definition-box"><strong>Normalized Discounted Cumulative Gain (NDCG):</strong> Masura care tine cont de nivelurile multiple de relevanta, cu reducere logaritmica: DCG@k(r) = r_1 + Σ_{i=2}^{k} r_i / log_2(i). NDCG = DCG / IDCG.</div>
  <div class="highlight-box"><strong>Precision@k (9.126):</strong> P@k(π) = numarul de documente relevante in primele k pozitii ale lui π / k.</div>
  <div class="highlight-box"><strong>Average Precision (9.127):</strong> AP(π) = Σ_k P@k(π) · I_k / (numar documente relevante).</div>
  <div class="highlight-box"><strong>DCG@k (9.128):</strong> DCG@k(r) = r_1 + Σ_{i=2}^{k} r_i / log_2(i).</div>
  <div class="highlight-box"><strong>DCG alternativ (9.129):</strong> DCG@k(r) = Σ_{i=1}^{k} (2^{r_i} - 1) / log_2(1 + i).</div>
  <div class="highlight-box"><strong>Regresia logistica multinomiala pentru ranking (9.125):</strong> p(y_i = c|x) = exp(s_c) / Σ_{c'=1}^{m} exp(s_{c'}), caz special cand un singur document este considerat relevant.</div>
  <div class="commentary">
    <h3>Comentariu</h3>
    <div class="commentary-section"><h4>Rezumat</h4><p>Pagina detaliaza metricile standard de evaluare a sistemelor de ranking. MRR este simpla dar limitata (doar primul document relevant). MAP ia in considerare toate documentele relevante si pozitiile lor. NDCG este cea mai sofisticata, gestionand niveluri multiple de relevanta cu reducere logaritmica pentru pozitiile inferioare.</p></div>
    <div class="commentary-section"><h4>Tipare Cheie</h4><p>Toate metricile au o caracteristica comuna: penalizeaza mai mult erorile din varful listei decat cele din coada. NDCG normalizeaza prin DCG-ul ideal, permitand comparatii intre interogari cu numere diferite de documente relevante. Un caz special interesant: cand doar un document este relevant, regresia logistica multinomiala poate fi folosita direct.</p></div>
    <div class="commentary-section"><h4>Aplicatii Practice</h4><p>MAP este standard in evaluarea motoarelor de cautare si in competitiile TREC. NDCG este preferat cand exista niveluri de relevanta graduale. MRR este folosit in sisteme de raspuns la intrebari unde conteaza doar primul raspuns corect.</p></div>
    <div class="commentary-section"><h4>Exemplu din Lumea Reala</h4><p>In exemplul din text: pentru o interogare cu etichetele de relevanta y = (1, 0, 1, 0, 1), AP = 1/3 × (1/1 + 2/3 + 3/5) ≈ 0.76. Aceasta arata ca documentele relevante tind sa fie plasate corect in prima jumatate a listei, dar nu sunt perfect ordonate.</p></div>
  </div>
</div>
